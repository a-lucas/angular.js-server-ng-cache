/*
 angular.js-server-ng-cache v0.0.1
 https://github.com/a-lucas/angular.js-server-ng-cache#readme
*/

!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["angular.js-server-ng-cache"]=n():e["angular.js-server-ng-cache"]=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";var r=t(1);angular.module("angular.js-server-ngCache",[]).provider("$cacheFactory",r.$CacheFactoryProvider).provider("$templateCache",r.$TemplateCacheProvider).config(function(e,n,t){n.defaults.cache=!0;var r=e.$get();r.onServer&&r.onServer===!0&&(r.$cacheFactoryProvider=t),"undefined"==typeof r.onServer&&"undefined"!=typeof r.$angularServerCache&&(t.importAll(r.$angularServerCache),r.addEventListener("StackQueueEmpty",function(){t.remove("$http"),n.defaults.cache=config.defaultCache}))})},function(e,n){"use strict";function t(){var e={};this.getCaches=function(){return e},this["export"]=function(n){if("undefined"==typeof cache[n])throw new Error("$cacheFactory - iid - CacheId "+n+" is not defined!");return e[n]["export"]()},this.exportAll=function(){var n={};for(var t in e)n[t]=e[t]["export"]();return n},this.remove=function(n){"undefined"!=typeof e[n]&&delete e[n]},this.removeAll=function(){e={}},this.importAll=function(n){var t=this.$get();for(var r in n)"undefined"==typeof e[r]&&(e[r]=t(r)),e[r]["import"](n[r])},this["import"]=function(n,t){var r=this.$get();"undefined"==typeof e[n]&&(e[n]=r(i)),e[n]["import"](t)},this.info=function(n){if("undefined"==typeof e[n])throw new Error("$cacheFactory - iid - CacheId "+n+" is not defined!");return e[n].info()},this.infoAll=function(){var n={};for(var t in e)n[t]=e[t].info();return n},this.$get=function(){function n(n,t){function r(e){e!==l&&(d?d===e&&(d=e.n):d=e,o(e.n,e.p),o(e,l),l=e,l.n=null)}function o(e,n){e!==n&&(e&&(e.p=n),n&&(n.n=e))}if(n in e)return e[n];var i=0,u=Object.assign({},t,{id:n}),c=Object.create(null),f=t&&t.capacity||Number.MAX_VALUE,a=Object.create(null),l=null,d=null;return e[n]={put:function(e,n){if("undefined"!=typeof n){if(f<Number.MAX_VALUE){var t=a[e]||(a[e]={key:e});r(t)}return e in c||i++,c[e]=n,i>f&&this.remove(d.key),n}},"export":function(){return c},"import":function(e){i=0,a=Object.create(null),l=null,d=null;for(var n in e)this.put(n,e[n])},get:function(e){if(f<Number.MAX_VALUE){var n=a[e];if(!n)return;r(n)}return c[e]},remove:function(e){if(f<Number.MAX_VALUE){var n=a[e];if(!n)return;n===l&&(l=n.p),n===d&&(d=n.n),o(n.n,n.p),delete a[e]}e in c&&(delete c[e],i--)},removeAll:function(){c=Object.create(null),i=0,a=Object.create(null),l=d=null},destroy:function(){c=null,u=null,a=null,delete e[n]},info:function(){return Object.assign({},u,{size:i})},keys:function(){return Object.getOwnPropertyNames(c)}}}return n.info=function(){var n={};for(var t in e)n[t]=e[t].info();return n},n}}function r(){this.$get=["$cacheFactory",function(e){return e("templates")}]}Object.defineProperty(n,"__esModule",{value:!0}),n.$CacheFactoryProvider=t,n.$TemplateCacheProvider=r}])});
//# sourceMappingURL=angular.js-server-ng-cache.min.js.map